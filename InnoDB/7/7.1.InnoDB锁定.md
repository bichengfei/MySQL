# InnoDB 锁定

- 共享锁和排他锁
- 意向锁
- 记录锁
- 间隙锁
- Next-Key 锁
- 插入意向锁
- AUTO-INC 锁
- 空间索引的谓词锁

### 共享锁和排他锁（Shared and Exclusive Locks）

InnoDB 实现标准的行级锁定，其中有两种类型的锁，共享锁(S)和排他锁(X)

- 共享锁：允许持有锁的事务读取行
- 排他锁：允许持有锁的事务更新或删除行

如果事务 T1 持有某行的共享锁，那么来自于某个不同事务 T2 对该行锁的请求，将按以下方式处理：

- 如果 T2 请求共享锁，将会立即授予。此时，T1  和 T2 同时持有该行的共享锁
- 如果 T2 请求排他锁，将不会立即被授予

如果事务 T1 持有某行的排他锁，那么来自于不同事务 T2 对该行锁的请求将不会立即被授权，T2 必须等待 T1 释放对该行的锁。

### 意向锁（Intention Locks）

InnoDB 支持多粒度锁定，允许行锁和表锁共存







